(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1034],{29188:function(e,t,r){"use strict";function n(e){if("immediatePropagationStopped"in e)return e;{const{stopImmediatePropagation:t}=e;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}function s(e){const t=e.trim().match(ce)||[];let r=t[2],n=t[3];return n&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${n}`,n=""),{eventTarget:i(t[4]),eventName:r,eventOptions:t[7]?o(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||n}}function i(e){return"window"==e?window:"document"==e?document:void 0}function o(e){return e.split(":").reduce(((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)})),{})}function a(e){return e==window?"window":e==document?"document":void 0}function c(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function l(e){return c(e.replace(/--/g,"-").replace(/__/g,"_"))}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}function d(e){return e.match(/[^\s]+/g)||[]}function m(e){return null!=e}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){const t=e.tagName.toLowerCase();if(t in he)return he[t](e)}function g(e){throw new Error(e)}function b(e){try{return JSON.parse(e)}catch(t){return e}}function v(e,t,r){A(e,t).add(r)}function y(e,t,r){A(e,t).delete(r),E(e,t)}function A(e,t){let r=e.get(t);return r||(r=new Set,e.set(t,r)),r}function E(e,t){const r=e.get(t);null!=r&&0==r.size&&e.delete(t)}function w(e,t,r){return e.trim().split(/\s+/).filter((e=>e.length)).map(((e,n)=>({element:t,attributeName:r,content:e,index:n})))}function O(e,t){const r=Math.max(e.length,t.length);return Array.from({length:r},((r,n)=>[e[n],t[n]]))}function k(e,t){return e&&t&&e.index==t.index&&e.content==t.content}function M(e,t){const r=C(e);return Array.from(r.reduce(((e,r)=>(S(r,t).forEach((t=>e.add(t))),e)),new Set))}function x(e,t){return C(e).reduce(((e,r)=>(e.push(...T(r,t)),e)),[])}function C(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function S(e,t){const r=e[t];return Array.isArray(r)?r:[]}function T(e,t){const r=e[t];return r?Object.keys(r).map((e=>[e,r[e]])):[]}function N(e){return F(e,j(e))}function F(e,t){const r=xe(e),n=L(e.prototype,t);return Object.defineProperties(r.prototype,n),r}function j(e){return M(e,"blessings").reduce(((t,r)=>{const n=r(e);for(const e in n){const r=t[e]||{};t[e]=Object.assign(r,n[e])}return t}),{})}function L(e,t){return Me(t).reduce(((r,n)=>{const s=D(e,t,n);return s&&Object.assign(r,{[n]:s}),r}),{})}function D(e,t,r){const n=Object.getOwnPropertyDescriptor(e,r);if(!(n&&"value"in n)){const e=Object.getOwnPropertyDescriptor(t,r).value;return n&&(e.get=n.get||e.get,e.set=n.set||e.set),e}}function B(e){return{identifier:e.identifier,controllerConstructor:N(e.controllerConstructor)}}function $(e,t){return`[${e}~="${t}"]`}function I(e){return e.reduce(((e,[t,r])=>Object.assign(Object.assign({},e),{[t]:r})),{})}function P(){return new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()}))}function _(e){return M(e,"classes").reduce(((e,t)=>Object.assign(e,R(t))),{})}function R(e){return{[`${e}Class`]:{get(){const{classes:t}=this;if(t.has(e))return t.get(e);{const r=t.getAttributeName(e);throw new Error(`Missing attribute "${r}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${u(e)}Class`]:{get(){return this.classes.has(e)}}}}function K(e){return M(e,"outlets").reduce(((e,t)=>Object.assign(e,z(t))),{})}function U(e,t,r){return e.application.getControllerForElementAndIdentifier(t,r)}function V(e,t,r){let n=U(e,t,r);return n||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,r),n=U(e,t,r),n||void 0)}function z(e){const t=l(e);return{[`${t}Outlet`]:{get(){const t=this.outlets.find(e),r=this.outlets.getSelectorForOutletName(e);if(t){const r=V(this,t,e);if(r)return r;throw new Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${t}Outlets`]:{get(){const t=this.outlets.findAll(e);return t.length>0?t.map((t=>{const r=V(this,t,e);if(r)return r;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)})).filter((e=>e)):[]}},[`${t}OutletElement`]:{get(){const t=this.outlets.find(e),r=this.outlets.getSelectorForOutletName(e);if(t)return t;throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${u(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}function H(e){return M(e,"targets").reduce(((e,t)=>Object.assign(e,q(t))),{})}function q(e){return{[`${e}Target`]:{get(){const t=this.targets.find(e);if(t)return t;throw new Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${u(e)}Target`]:{get(){return this.targets.has(e)}}}}function G(e){const t=x(e,"values"),r={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const r=Z(t,this.identifier),n=this.data.getAttributeNameForKey(r.key);return Object.assign(e,{[n]:r})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,Y(t))),r)}function Y(e,t){const r=Z(e,t),{key:n,name:s,reader:i,writer:o}=r;return{[s]:{get(){const e=this.data.get(n);return null!==e?i(e):r.defaultValue},set(e){void 0===e?this.data.delete(n):this.data.set(n,o(e))}},[`has${u(s)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function Z([e,t],r){return te({controller:r,token:e,typeDefinition:t})}function J(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function W(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}function X(e){const{controller:t,token:r,typeObject:n}=e,s=m(n.type),i=m(n.default),o=s&&i,a=s&&!i,c=!s&&i,l=J(n.type),u=W(e.typeObject.default);if(a)return l;if(c)return u;if(l!==u){throw new Error(`The specified default value for the Stimulus Value "${t?`${t}.${r}`:r}" must match the defined type "${l}". The provided default value of "${n.default}" is of type "${u}".`)}return o?l:void 0}function Q(e){const{controller:t,token:r,typeDefinition:n}=e,s=X({controller:t,token:r,typeObject:n}),i=W(n),o=J(n),a=s||i||o;if(a)return a;throw new Error(`Unknown value type "${t?`${t}.${n}`:r}" for "${r}" value`)}function ee(e){const t=J(e);if(t)return Pe[t];const r=p(e,"default"),n=p(e,"type"),s=e;if(r)return s.default;if(n){const{type:e}=s,t=J(e);if(t)return Pe[t]}return e}function te(e){const{token:t,typeDefinition:r}=e,n=`${h(t)}-value`,s=Q(e);return{type:s,key:n,name:c(n),get defaultValue(){return ee(r)},get hasCustomDefaultValue(){return void 0!==W(r)},reader:_e[s],writer:Re[s]||Re.default}}function re(e){return JSON.stringify(e)}function ne(e){return`${e}`}r.d(t,{Mx:function(){return Ie},Qr:function(){return Ke}});var se=(e,t,r)=>new Promise(((n,s)=>{var i=e=>{try{a(r.next(e))}catch(e){s(e)}},o=e=>{try{a(r.throw(e))}catch(e){s(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);a((r=r.apply(e,t)).next())}));class ie{constructor(e,t,r){this.eventTarget=e,this.eventName=t,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=n(e);for(const e of this.bindings){if(t.immediatePropagationStopped)break;e.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((e,t)=>{const r=e.index,n=t.index;return r<n?-1:r>n?1:0}))}}class oe{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((e=>e.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((e=>e.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,r={}){this.application.handleError(e,`Error ${t}`,r)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:r,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(t),i=this.cacheKey(r,n);s.delete(i),0==s.size&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:r,eventOptions:n}=e;return this.fetchEventListener(t,r,n)}fetchEventListener(e,t,r){const n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(t,r);let i=n.get(s);return i||(i=this.createEventListener(e,t,r),n.set(s,i)),i}createEventListener(e,t,r){const n=new ie(e,t,r);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const r=[e];return Object.keys(t).sort().forEach((e=>{r.push(`${t[e]?"":"!"}${e}`)})),r.join(":")}}const ae={stop:({event:e,value:t})=>(t&&e.stopPropagation(),!0),prevent:({event:e,value:t})=>(t&&e.preventDefault(),!0),self:({event:e,value:t,element:r})=>!t||r===e.target},ce=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/,le=["meta","ctrl","alt","shift"];class ue{constructor(e,t,r,n){this.element=e,this.index=t,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||f(e)||g("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||g("missing identifier"),this.methodName=r.methodName||g("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=n}static forToken(e,t){return new this(e.element,e.index,s(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;const r=t.filter((e=>!le.includes(e)))[0];return!!r&&(p(this.keyMappings,r)||g(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==e.key.toLowerCase())}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;const t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:r,value:n}of Array.from(this.element.attributes)){const s=r.match(t),i=s&&s[1];i&&(e[c(i)]=b(n))}return e}get eventTargetName(){return a(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){const[r,n,s,i]=le.map((e=>t.includes(e)));return e.metaKey!==r||e.ctrlKey!==n||e.altKey!==s||e.shiftKey!==i}}const he={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:e=>"submit"==e.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"};class de{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){const t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:n}=this.context;let s=!0;for(const[i,o]of Object.entries(this.eventOptions))if(i in r){const a=r[i];s=s&&a({name:i,value:o,event:e,element:t,controller:n})}return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){const{target:t,currentTarget:r}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:r,action:this.methodName})}catch(t){const{identifier:r,controller:n,element:s,index:i}=this,o={identifier:r,controller:n,element:s,index:i,event:e};this.context.handleError(t,`invoking action "${this.action}"`,o)}}willBeInvokedByEvent(e){const t=e.target;return!(e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e))&&(!(e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e))&&(this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element))))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class me{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.processTree(e,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.elementIsActive(e)&&this.processTree(e,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const r of this.matchElementsInTree(e))t.call(this,r)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class pe{constructor(e,t,r){this.attributeName=t,this.delegate=r,this.elementObserver=new me(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return t.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}class fe{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e.concat(Array.from(t))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e+t.size),0)}add(e,t){v(this.valuesByKey,e,t)}delete(e,t){y(this.valuesByKey,e,t)}has(e,t){const r=this.valuesByKey.get(e);return null!=r&&r.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some((t=>t.has(e)))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter((([t,r])=>r.has(e))).map((([e,t])=>e))}}class ge{constructor(e,t,r,n){this._selector=t,this.details=n,this.elementObserver=new me(e,this),this.delegate=r,this.matchesByElement=new fe}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const{selector:t}=this;if(t){const r=e.matches(t);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(e,this.details):r}return!1}matchElementsInTree(e){const{selector:t}=this;if(t){const r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(t)).filter((e=>this.matchElement(e)));return r.concat(n)}return[]}elementMatched(e){const{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){const t=this.matchesByElement.getKeysForValue(e);for(const r of t)this.selectorUnmatched(e,r)}elementAttributeChanged(e,t){const{selector:r}=this;if(r){const t=this.matchElement(e),n=this.matchesByElement.has(r,e);t&&!n?this.selectorMatched(e,r):!t&&n&&this.selectorUnmatched(e,r)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}}class be{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const r=this.delegate.getStringMapKeyForAttribute(e);if(null!=r){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);const n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,r,t),null==n){const t=this.stringMap.get(e);this.stringMap.delete(e),t&&this.stringMapKeyRemoved(r,e,t)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,r)}stringMapKeyRemoved(e,t,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((e=>e.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class ve{constructor(e,t,r){this.attributeObserver=new pe(e,t,this),this.delegate=r,this.tokensByElement=new fe}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,r]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(r)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach((e=>this.tokenMatched(e)))}tokensUnmatched(e){e.forEach((e=>this.tokenUnmatched(e)))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),n=O(t,r).findIndex((([e,t])=>!k(e,t)));return-1==n?[[],[]]:[t.slice(n),r.slice(n)]}readTokensForElement(e){const t=this.attributeName;return w(e.getAttribute(t)||"",e,t)}}class ye{constructor(e,t,r){this.tokenListObserver=new ve(e,t,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).set(e,r),this.delegate.elementMatchedValue(t,r))}tokenUnmatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,r))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}}}class Ae{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new ye(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new de(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach((e=>this.delegate.bindingDisconnected(e,!0))),this.bindingsByAction.clear()}parseValueForToken(e){const t=ue.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class Ee{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new be(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const r=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue))}stringMapValueChanged(e,t,r){const n=this.valueDescriptorNameMap[t];null!==e&&(null===r&&(r=n.writer(n.defaultValue)),this.invokeChangedCallback(t,e,r))}stringMapKeyRemoved(e,t,r){const n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),r):this.invokeChangedCallback(e,n.writer(n.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:r,writer:n}of this.valueDescriptors)null==r||this.controller.data.has(e)||this.invokeChangedCallback(t,n(r),void 0)}invokeChangedCallback(e,t,r){const n=`${e}Changed`,s=this.receiver[n];if("function"==typeof s){const n=this.valueDescriptorNameMap[e];try{const e=n.reader(t);let i=r;r&&(i=n.reader(r)),s.call(this.receiver,e,i)}catch(e){throw e instanceof TypeError&&(e.message=`Stimulus Value "${this.context.identifier}.${n.name}" - ${e.message}`),e}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map((t=>e[t]))}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach((t=>{const r=this.valueDescriptorMap[t];e[r.name]=r})),e}hasValue(e){const t=`has${u(this.valueDescriptorNameMap[e].name)}`;return this.receiver[t]}}class we{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new fe}start(){this.tokenListObserver||(this.tokenListObserver=new ve(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var r;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(r=this.tokenListObserver)||void 0===r||r.pause((()=>this.delegate.targetConnected(e,t))))}disconnectTarget(e,t){var r;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(r=this.tokenListObserver)||void 0===r||r.pause((()=>this.delegate.targetDisconnected(e,t))))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}class Oe{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new fe,this.outletElementsByName=new fe,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach((e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)})),this.started=!0,this.dependentContexts.forEach((e=>e.refresh())))}refresh(){this.selectorObserverMap.forEach((e=>e.refresh())),this.attributeObserverMap.forEach((e=>e.refresh()))}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach((e=>e.stop())),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach((e=>e.stop())),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:r}){const n=this.getOutlet(e,r);n&&this.connectOutlet(n,e,r)}selectorUnmatched(e,t,{outletName:r}){const n=this.getOutletFromMap(e,r);n&&this.disconnectOutlet(n,e,r)}selectorMatchElement(e,{outletName:t}){const r=this.selector(t),n=this.hasOutlet(e,t),s=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return!!r&&(n&&s&&e.matches(r))}elementMatchedAttribute(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}elementAttributeValueChanged(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}elementUnmatchedAttribute(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}connectOutlet(e,t,r){var n;this.outletElementsByName.has(r,t)||(this.outletsByName.add(r,e),this.outletElementsByName.add(r,t),null===(n=this.selectorObserverMap.get(r))||void 0===n||n.pause((()=>this.delegate.outletConnected(e,t,r))))}disconnectOutlet(e,t,r){var n;this.outletElementsByName.has(r,t)&&(this.outletsByName.delete(r,e),this.outletElementsByName.delete(r,t),null===(n=this.selectorObserverMap.get(r))||void 0===n||n.pause((()=>this.delegate.outletDisconnected(e,t,r))))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const r of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(r,t,e)}updateSelectorObserverForOutlet(e){const t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){const t=this.selector(e),r=new ge(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,r),r.start()}setupAttributeObserverForOutlet(e){const t=this.attributeNameForOutletName(e),r=new pe(this.scope.element,t,this);this.attributeObserverMap.set(e,r),r.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find((t=>this.attributeNameForOutletName(t)===e))}get outletDependencies(){const e=new fe;return this.router.modules.forEach((t=>{M(t.definition.controllerConstructor,"outlets").forEach((r=>e.add(r,t.identifier)))})),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter((t=>e.includes(t.identifier)))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find((t=>t.element===e))}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class ke{constructor(e,t){this.logDebugActivity=(e,t={})=>{const{identifier:r,controller:n,element:s}=this;t=Object.assign({identifier:r,controller:n,element:s},t),this.application.logDebugActivity(this.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Ae(this,this.dispatcher),this.valueObserver=new Ee(this,this.controller),this.targetObserver=new we(this,this),this.outletObserver=new Oe(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(e){this.handleError(e,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){
return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,r={}){const{identifier:n,controller:s,element:i}=this;r=Object.assign({identifier:n,controller:s,element:i},r),this.application.handleError(e,`Error ${t}`,r)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,r){this.invokeControllerMethod(`${l(r)}OutletConnected`,e,t)}outletDisconnected(e,t,r){this.invokeControllerMethod(`${l(r)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const r=this.controller;"function"==typeof r[e]&&r[e](...t)}}const Me="function"==typeof Object.getOwnPropertySymbols?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames,xe=(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}function t(){const t=e((function(){this.a.call(this)}));return t.prototype.a=function(){},new t}try{return t(),e}catch(e){return e=>class extends e{}}})();class Ce{constructor(e,t){this.application=e,this.definition=B(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new ke(this,e),this.contextsByScope.set(e,t)),t}}class Se{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){return d(this.data.get(this.getDataKey(e))||"")}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class Te{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${h(e)}`}}class Ne{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,r){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(t)||(n.add(t),this.logger.warn(r,e))}}class Fe{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findTarget(t)||this.findLegacyTarget(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllTargets(t),...this.findAllLegacyTargets(t)]),[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){return $(this.schema.targetAttributeForScope(this.identifier),e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map((t=>this.deprecate(t,e)))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return $(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:r}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${t}`,`Please replace ${n}="${r}.${t}" with ${s}="${t}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class je{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findOutlet(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllOutlets(t)]),[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter((r=>this.matchesElement(r,e,t)))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter((r=>this.matchesElement(r,e,t)))}matchesElement(e,t,r){const n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&n.split(" ").includes(r)}}class Le{constructor(e,t,r,n){this.targets=new Fe(this),this.classes=new Se(this),this.data=new Te(this),this.containsElement=e=>e.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=r,this.guide=new Ne(n),this.outlets=new je(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return $(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new Le(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class De{constructor(e,t,r){this.element=e,this.schema=t,this.delegate=r,this.valueListObserver=new ye(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:r}=e;return this.parseValueForElementAndIdentifier(t,r)}parseValueForElementAndIdentifier(e,t){const r=this.fetchScopesByIdentifierForElement(e);let n=r.get(t);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,t),r.set(t,n)),n}elementMatchedValue(e,t){const r=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,r),1==r&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const r=this.scopeReferenceCounts.get(t);r&&(this.scopeReferenceCounts.set(t,r-1),1==r&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class Be{constructor(e){this.application=e,this.scopeObserver=new De(this.element,this.schema,this),this.scopesByIdentifier=new fe,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((e,t)=>e.concat(t.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new Ce(this.application,e);this.connectModule(t);const r=e.controllerConstructor.afterLoad;r&&r.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const r=this.modulesByIdentifier.get(t);if(r)return r.contexts.find((t=>t.element==e))}proposeToConnectScopeForElementAndIdentifier(e,t){const r=this.scopeObserver.parseValueForElementAndIdentifier(e,t);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,r){this.application.handleError(e,t,r)}createScopeForElementAndIdentifier(e,t){return new Le(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.connectContextForScope(t)))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.disconnectContextForScope(t)))}}const $e={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:e=>`data-${e}-target`,outletAttributeForScope:(e,t)=>`data-${e}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},I("abcdefghijklmnopqrstuvwxyz".split("").map((e=>[e,e])))),I("0123456789".split("").map((e=>[e,e]))))};class Ie{constructor(e=document.documentElement,t=$e){this.logger=console,this.debug=!1,this.logDebugActivity=(e,t,r={})=>{this.debug&&this.logFormattedMessage(e,t,r)},this.element=e,this.schema=t,this.dispatcher=new oe(this),this.router=new Be(this),this.actionDescriptorFilters=Object.assign({},ae)}static start(e,t){const r=new this(e,t);return r.start(),r}start(){return se(this,null,(function*(){yield P(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}))}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>{e.controllerConstructor.shouldLoad&&this.router.loadDefinition(e)}))}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.unloadIdentifier(e)))}get controllers(){return this.router.contexts.map((e=>e.controller))}getControllerForElementAndIdentifier(e,t){const r=this.router.getContextForElementAndIdentifier(e,t);return r?r.controller:null}handleError(e,t,r){var n;this.logger.error("%s\n\n%o\n\n%o",t,e,r),null===(n=window.onerror)||void 0===n||n.call(window,t,"",0,0,e)}logFormattedMessage(e,t,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}}const Pe={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},_e={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${W(t)}"`);return t},boolean:e=>!("0"==e||"false"==String(e).toLowerCase()),number:e=>Number(e.replace(/_/g,"")),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${W(t)}"`);return t},string:e=>e},Re={default:ne,array:re,object:re};class Ke{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:r={},prefix:n=this.identifier,bubbles:s=!0,cancelable:i=!0}={}){const o=new CustomEvent(n?`${n}:${e}`:e,{detail:r,bubbles:s,cancelable:i});return t.dispatchEvent(o),o}}Ke.blessings=[_,H,G,K],Ke.targets=[],Ke.outlets=[],Ke.values={}},93646:function(e,t,r){"use strict";function n(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(o()[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:-1!==n?e.slice(4,n):""}}for(var s=new RegExp(a),i=null;null!==(i=s.exec(e));)if(i[0].trim())if(i[1]){var c=i[1].trim(),l=[c,""];c.indexOf("=")>-1&&(l=c.split("=")),t.attrs[l[0]]=l[1],s.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}function s(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(s,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var i=r(11835),o=r.n(i),a=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g,c=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,l=/^\s*$/,u=Object.create(null),h={parse:function(e,t){t||(t={}),t.components||(t.components=u);var r,s=[],i=[],o=-1,a=!1;if(0!==e.indexOf("<")){var h=e.indexOf("<");s.push({type:"text",content:-1===h?e:e.substring(0,h)})}return e.replace(c,(function(c,u){if(a){if(c!=="</"+r.name+">")return;a=!1}var h,d="/"!==c.charAt(1),m=c.startsWith("<!--"),p=u+c.length,f=e.charAt(p);if(m){var g=n(c);return o<0?(s.push(g),s):((h=i[o]).children.push(g),s)}if(d&&(o++,"tag"===(r=n(c)).type&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!f||"<"===f||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===o&&s.push(r),(h=i[o-1])&&h.children.push(r),i[o]=r),(!d||r.voidElement)&&(o>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(o--,r=-1===o?s:i[o]),!a&&"<"!==f&&f)){h=-1===o?s:i[o].children;var b=e.indexOf("<",p),v=e.slice(p,-1===b?void 0:b);l.test(v)&&(v=" "),(b>-1&&o+h.length>=0||" "!==v)&&h.push({type:"text",content:v})}})),s},stringify:function(e){return e.reduce((function(e,t){return e+s("",t)}),"")}};t.Z=h},68465:function(e,t,r){var n,s,i,o;(o=function(){"use strict";var e="s",t={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},r=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},n=function(){var n=r(new Date(t.BASELINE_YEAR,0,2)),s=r(new Date(t.BASELINE_YEAR,5,2)),i=n-s;return i<0?n+",1":i>0?s+",1,"+e:n+",0"},s=function(){var e,t;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t)&&0!=t.indexOf("Etc")?t:void 0},i=function(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),r=new Date(e,12,31,23,59,59).getTime(),n=t,s=new Date(n).getTimezoneOffset(),i=null,o=null;n<r-864e5;){var c=new Date(n),l=c.getTimezoneOffset();l!==s&&(l<s&&(i=c),l>s&&(o=c),s=l),n+=864e5}return!(!i||!o)&&{s:a(i).getTime(),e:a(o).getTime()}},a=function e(r,n,s){void 0===n&&(n=t.DAY,s=t.HOUR);for(var i=new Date(r.getTime()-n).getTime(),o=r.getTime()+n,a=new Date(i).getTimezoneOffset(),c=i,l=null;c<o-s;){var u=new Date(c);if(u.getTimezoneOffset()!==a){l=u;break}c+=s}return n===t.DAY?e(l,t.HOUR,t.MINUTE):n===t.HOUR?e(l,t.MINUTE,t.SECOND):l},c=function(e,t,r,n){if("N/A"!==r)return r;if("Asia/Beirut"===t){if("Africa/Cairo"===n.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===n.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===n.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===n.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===n.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===n.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return r},l=function(e,r){for(var n=function(n){for(var s=0,i=0;i<e.length;i++)if(n.rules[i]&&e[i]){if(!(e[i].s>=n.rules[i].s&&e[i].e<=n.rules[i].e)){s="N/A";break}if(s=0,s+=Math.abs(e[i].s-n.rules[i].s),(s+=Math.abs(n.rules[i].e-e[i].e))>t.MAX_SCORE){s="N/A";break}}return s=c(e,r,s,n)},s={},i=o.olson.dst_rules.zones,a=i.length,l=t.AMBIGUITIES[r],u=0;u<a;u++){var h=i[u],d=n(i[u]);"N/A"!==d&&(s[h.name]=d)}for(var m in s)if(s.hasOwnProperty(m))for(var p=0;p<l.length;p++)if(l[p]===m)return m;return r},u=function(e){var t=function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1},r=function(){for(var e=[],t=0;t<o.olson.dst_rules.years.length;t++){var r=i(o.olson.dst_rules.years[t]);e.push(r)}return e}();return t(r)?l(r,e):e};return{determine:function(){var e=s();return e||(e=o.olson.timezones[n()],void 0!==t.AMBIGUITIES[e]&&(e=u(e))),{name:function(){return e},stdTimezoneOffset:function(){return-n().split(",")[0]},timezoneOffset:function(){return-r(new Date)}}}}}()).olson=o.olson||{},o.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},o.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},void 0!==e.exports?e.exports=o:null!==r.amdD&&null!=r.amdO?(n=[],void 0===(s=function(){return o}.apply(t,n))||(e.exports=s)):void 0===i?window.jstz=o:i.jstz=o},35694:function(e,t,r){e.exports=r(68465)},61676:function(e){var t=function(e){"use strict";function t(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function r(e,t,r,n){var i=t&&t.prototype instanceof s?t:s,o=Object.create(i.prototype),a=new m(n||[]);return y(o,"_invoke",{value:l(e,r,a)}),o}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function s(){}function i(){}function o(){}function a(e){["next","throw","return"].forEach((function(r){t(e,r,(function(e){return this._invoke(r,e)}))}))}function c(e,t){function r(s,i,o,a){var c=n(e[s],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&v.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,a)}),(function(e){r("throw",e,o,a)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,a)}))}a(c.arg)}function s(e,n){function s(){return new t((function(t,s){r(e,n,t,s)}))}return i=i?i.then(s,s):s()}var i;y(this,"_invoke",{value:s})}function l(e,t,r){var s=k;return function(i,o){if(s===x)throw new Error("Generator is already running");if(s===C){if("throw"===i)throw o;return f()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var c=u(a,r);if(c){if(c===S)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===k)throw s=C,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=x;var l=n(e,t,r);if("normal"===l.type){if(s=r.done?C:M,l.arg===S)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(s=C,r.method="throw",r.arg=l.arg)}}}function u(e,t){var r=t.method,s=e.iterator[r];if(s===g)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),S;var i=n(s,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,S;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,S):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function p(e){if(null!=e){var t=e[E];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(v.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=g,t.done=!0,t};return n.next=n}}throw new TypeError(typeof e+" is not iterable")}function f(){return{value:g,done:!0}}var g,b=Object.prototype,v=b.hasOwnProperty,y=Object.defineProperty||function(e,t,r){e[t]=r.value},A="function"==typeof Symbol?Symbol:{},E=A.iterator||"@@iterator",w=A.asyncIterator||"@@asyncIterator",O=A.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,r){return e[t]=r}}e.wrap=r;var k="suspendedStart",M="suspendedYield",x="executing",C="completed",S={},T={};t(T,E,(function(){return this}));var N=Object.getPrototypeOf,F=N&&N(N(p([])));F&&F!==b&&v.call(F,E)&&(T=F);var j=o.prototype=s.prototype=Object.create(T);return i.prototype=o,y(j,"constructor",{value:o,configurable:!0}),y(o,"constructor",{value:i,configurable:!0}),i.displayName=t(o,O,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,t(e,O,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},a(c.prototype),t(c.prototype,w,(function(){return this})),e.AsyncIterator=c,e.async=function(t,n,s,i,o){void 0===o&&(o=Promise);var a=new c(r(t,n,s,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(j),t(j,O,"Generator"),t(j,E,(function(){return this})),t(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=p,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=g),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],i=s.completion;if("root"===s.tryLoc)return t("end");if(s.tryLoc<=this.prev){var o=v.call(s,"catchLoc"),a=v.call(s,"finallyLoc");if(o&&a){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return t(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg
;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var s=n.arg;d(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:p(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=g),S}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},80438:function(e){var t;t=function(){return function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){"use strict";function r(e,t,r){if("string"!=typeof e)throw new Error("tagName must be a string");var s=document.createElement(e);return t&&"object"===(void 0===t?"undefined":n(t))&&Object.keys(t).forEach((function(e){/on[A-Z][a-z]/.test(e)?s[e.toLowerCase()]=t[e]:s.setAttribute(e,t[e])})),"string"==typeof r?s.innerHTML=r:r instanceof Array&&r.forEach((function(e){s.appendChild(e)})),s}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(e=e||{},!t)throw new Error('"rootNode" is not passed');if(!e.formId)throw new Error('"formId" option is not defined');if(e.snippetFieldName=e.snippetFieldName||"entry.13240190",e.urlFieldName=e.urlFieldName||"entry.238687347",e.commentFieldName=e.commentFieldName||"entry.1447231081",e.endpointUrl=e.endpointUrl||"https://cors-anywhere.herokuapp.com/https://docs.google.com/forms/d/e/"+e.formId+"/formResponse?embedded=true",e.offset=e.offset||50,e.translations=e.translations||this.translations,e.locale=e.locale||"en",!e.translations[e.locale])throw new Error("No translations defined for locale "+e.locale);this.i18n=e.translations[e.locale],this.props=e,this.node=t,this.state={},this.submit=this.submit.bind(this),this.handleCommentChange=this.handleCommentChange.bind(this),this.closeDialog=this.closeDialog.bind(this),document.addEventListener("keydown",function(e){e.ctrlKey&&13===e.which&&this.showDialog(),27===e.which&&this.closeDialog()}.bind(this)),this.refresh()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(0));s.prototype.translations={en:{header:"Report a mistake on the page",messageLabel:"There is a mistake in the following text:",commentLabel:"<strong>Do you want to send a notice to a webmaster?</strong>",send:"<strong>Send</strong>",sending:"Sending",cancel:"Cancel",error:"Error! Something went wrong..."},ru:{header:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",messageLabel:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0442\u0435\u043a\u0441\u0442\u0435:",commentLabel:"<strong>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0443 \u0441\u0430\u0439\u0442\u0430?</strong>",send:"<strong>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</strong>",sending:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",error:"\u041e\u0448\u0438\u0431\u043a\u0430! \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."}},s.prototype.render=function(){var e=this.state,t=this.i18n;return e.isOpen&&(0,i.default)("div",{class:"ReportTypo"},[(0,i.default)("div",{class:"ReportTypo-header"},t.header),(0,i.default)("div",{class:"ReportTypo-label"},t.messageLabel),(0,i.default)("div",{class:"ReportTypo-message"},e.snippet.replace(">>>",'<u class="ReportTypo-heighlight">').replace("<<<","</u>")),(0,i.default)("textarea",{class:"ReportTypo-comment",onKeyup:this.handleCommentChange},e.comment),(0,i.default)("div",{class:"ReportTypo-label"},t.commentLabel),(0,i.default)("div",{style:"text-align: right;"},[(0,i.default)("button",{type:"button",class:"ReportTypo-submit",onClick:this.submit},e.isSending?t.sending:t.send),(0,i.default)("button",{type:"button",class:"ReportTypo-cancel",onClick:this.closeDialog},t.cancel)]),(0,i.default)("div",null,e.isError&&t.error)])},s.prototype.refresh=function(){var e=this.node;e.innerHTML="";var t=this.render();t&&e.appendChild(t)},s.prototype.submit=function(){var e=this.state,t=this.props;e.isSending=!0,this.refresh();var r=new FormData;r.append(t.snippetFieldName,e.snippet),r.append(t.commentFieldName,e.comment),r.append(t.urlFieldName,window.location);var n=new XMLHttpRequest;n.open("POST",t.endpointUrl,!0),n.onload=function(){n.status>=200&&n.status<400?this.closeDialog():(e.isError=!0,e.isSending=!1,this.refresh())}.bind(this),n.onerror=function(){e.isError=!0,e.isSending=!1,this.refresh()}.bind(this),n.send(r)},s.prototype.getSnippet=function(){var e=this.props,t=document.getSelection(),r=t.toString();if(r){var n=t.getRangeAt(0),s=document.createRange(),i=document.createRange();s.setStartBefore(n.startContainer.ownerDocument.body),s.setEnd(n.startContainer,n.startOffset),i.setStart(n.endContainer,n.endOffset),i.setEndAfter(n.endContainer.ownerDocument.body);var o=s.toString().substr(-e.offset)+">>>"+r+"<<<"+i.toString().substr(0,e.offset),a=document.createElement("div");return a.innerHTML=o,a.innerText.replace(/\r?\n|\r/g,"").replace(/\s+/g," ")}},s.prototype.showDialog=function(){var e=this.state;e.snippet=this.getSnippet(),e.snippet&&(e.isOpen=!0,this.refresh())},s.prototype.closeDialog=function(){this.state={},this.refresh()},s.prototype.handleCommentChange=function(e){this.state.comment=e.target.value},t.default=s,e.exports=t.default}])},e.exports=t()},11835:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3685:function(e){"use strict";e.exports=bootstrap},8810:function(e){"use strict";e.exports=gon},44684:function(e,t,r){"use strict";r(61676);const n="a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",s={selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},i="select[data-remote], input[data-remote], textarea[data-remote]",o="form:not([data-turbo=true])",a="form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",c="input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",l="input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",u="input[name][type=file]:not([disabled])",h="a[data-disable-with], a[data-disable]",d="button[data-remote][data-disable-with], button[data-remote][data-disable]";let m=null;const p=()=>{const e=document.querySelector("meta[name=csp-nonce]");return m=e&&e.content},f=()=>m||p(),g=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,b=function(e,t){return t.exclude?g.call(e,t.selector)&&!g.call(e,t.exclude):g.call(e,t)},v="_ujsData",y=(e,t)=>e[v]?e[v][t]:void 0,A=function(e,t,r){return e[v]||(e[v]={}),e[v][t]=r},E=e=>Array.prototype.slice.call(document.querySelectorAll(e)),w=function(e){var t=!1;do{if(e.isContentEditable){t=!0;break}e=e.parentElement}while(e);return t},O=()=>{const e=document.querySelector("meta[name=csrf-token]");return e&&e.content},k=()=>{const e=document.querySelector("meta[name=csrf-param]");return e&&e.content},M=e=>{const t=O();if(t)return e.setRequestHeader("X-CSRF-Token",t)},x=()=>{const e=O(),t=k();if(e&&t)return E('form input[name="'+t+'"]').forEach((t=>t.value=e))},C={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},S=e=>{e=T(e);var t=N(e,(function(){const r=F(null!=t.response?t.response:t.responseText,t.getResponseHeader("Content-Type"));return 2===Math.floor(t.status/100)?"function"==typeof e.success&&e.success(r,t.statusText,t):"function"==typeof e.error&&e.error(r,t.statusText,t),"function"==typeof e.complete?e.complete(t,t.statusText):void 0}));return!(e.beforeSend&&!e.beforeSend(t,e))&&(t.readyState===XMLHttpRequest.OPENED?t.send(e.data):void 0)};var T=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),e.dataType in C||(e.dataType="*"),e.accept=C[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},N=function(e,t){const r=new XMLHttpRequest;return r.open(e.type,e.url,!0),r.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),M(r)),r.withCredentials=!!e.withCredentials,r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)return t(r)},r},F=function(e,t){if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(e){}else if(t.match(/\b(?:java|ecma)script\b/)){const t=document.createElement("script");t.setAttribute("nonce",f()),t.text=e,document.head.appendChild(t).parentNode.removeChild(t)}else if(t.match(/\b(xml|html|svg)\b/)){const r=new DOMParser;t=t.replace(/;.+/,"");try{e=r.parseFromString(e,t)}catch(e){}}return e};const j=e=>e.href,L=function(e){const t=document.createElement("a");t.href=location.href;const r=document.createElement("a");try{return r.href=e,!((!r.protocol||":"===r.protocol)&&!r.host||t.protocol+"//"+t.host==r.protocol+"//"+r.host)}catch(e){return!0}};let D,{CustomEvent:B}=window;"function"!=typeof B&&(B=function(e,t){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r},B.prototype=window.Event.prototype,({preventDefault:D}=B.prototype),B.prototype.preventDefault=function(){const e=D.call(this);return this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:()=>!0}),e});const $=(e,t,r)=>{const n=new B(t,{bubbles:!0,cancelable:!0,detail:r});return e.dispatchEvent(n),!n.defaultPrevented},I=e=>{$(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},P=(e,t,r,n)=>e.addEventListener(r,(function(e){let{target:r}=e;for(;r instanceof Element&&!b(r,t);)r=r.parentNode;r instanceof Element&&!1===n.call(r,e)&&(e.preventDefault(),e.stopPropagation())})),_=e=>Array.prototype.slice.call(e),R=(e,t)=>{let r=[e];b(e,"form")&&(r=_(e.elements));const n=[];return r.forEach((function(e){e.name&&!e.disabled&&(b(e,"fieldset[disabled] *")||(b(e,"select")?_(e.options).forEach((function(t){t.selected&&n.push({name:e.name,value:t.value})})):(e.checked||-1===["radio","checkbox","submit"].indexOf(e.type))&&n.push({name:e.name,value:e.value})))})),t&&n.push(t),n.map((function(e){return e.name?`${encodeURIComponent(e.name)}=${encodeURIComponent(e.value)}`:e})).join("&")},K=(e,t)=>b(e,"form")?_(e.elements).filter((e=>b(e,t))):_(e.querySelectorAll(t)),U=e=>function(t){V(this,e)||I(t)};var V=function(e,t){let r;const n=e.getAttribute("data-confirm");if(!n)return!0;let s=!1;if($(e,"confirm")){try{s=t.confirm(n,e)}catch(e){}r=$(e,"confirm:complete",[s])}return s&&r};const z=function(e){this.disabled&&I(e)},H=e=>{let t;if(e instanceof Event){if(Q(e))return;t=e.target}else t=e;if(!w(t))return b(t,h)?Y(t):b(t,d)||b(t,l)?X(t):b(t,o)?W(t):void 0},q=e=>{const t=e instanceof Event?e.target:e;if(!w(t))return b(t,h)?G(t):b(t,d)||b(t,c)?J(t):b(t,o)?Z(t):void 0};var G=function(e){if(y(e,"ujs:disabled"))return;const t=e.getAttribute("data-disable-with");return null!=t&&(A(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",I),A(e,"ujs:disabled",!0)},Y=function(e){const t=y(e,"ujs:enable-with");return null!=t&&(e.innerHTML=t,A(e,"ujs:enable-with",null)),e.removeEventListener("click",I),A(e,"ujs:disabled",null)},Z=e=>K(e,c).forEach(J),J=function(e){if(y(e,"ujs:disabled"))return;const t=e.getAttribute("data-disable-with");return null!=t&&(b(e,"button")?(A(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(A(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,A(e,"ujs:disabled",!0)},W=e=>K(e,l).forEach((e=>X(e))),X=function(e){const t=y(e,"ujs:enable-with");return null!=t&&(b(e,"button")?e.innerHTML=t:e.value=t,A(e,"ujs:enable-with",null)),e.disabled=!1,A(e,"ujs:disabled",null)},Q=function(e){const t=e.detail?e.detail[0]:void 0;return t&&t.getResponseHeader("X-Xhr-Redirect")};const ee=e=>function(t){const r=this,n=r.getAttribute("data-method");if(!n)return;if(w(this))return;const s=e.href(r),i=O(),o=k(),a=document.createElement("form");let c=`<input name='_method' value='${n}' type='hidden' />`;o&&i&&!L(s)&&(c+=`<input name='${o}' value='${i}' type='hidden' />`),c+='<input type="submit" />',a.method="post",a.action=s,a.target=r.target,a.innerHTML=c,a.style.display="none",document.body.appendChild(a),a.querySelector('[type="submit"]').click(),I(t)},te=function(e){const t=e.getAttribute("data-remote");return null!=t&&"false"!==t},re=e=>function(t){let r,n,a;const c=this;if(!te(c))return!0;if(!$(c,"ajax:before"))return $(c,"ajax:stopped"),!1;if(w(c))return $(c,"ajax:stopped"),!1;const l=c.getAttribute("data-with-credentials"),u=c.getAttribute("data-type")||"script";if(b(c,o)){const e=y(c,"ujs:submit-button");n=y(c,"ujs:submit-button-formmethod")||c.getAttribute("method")||"get",a=y(c,"ujs:submit-button-formaction")||c.getAttribute("action")||location.href,"GET"===n.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===c.enctype?(r=new FormData(c),null!=e&&r.append(e.name,e.value)):r=R(c,e),A(c,"ujs:submit-button",null),A(c,"ujs:submit-button-formmethod",null),A(c,"ujs:submit-button-formaction",null)}else b(c,s)||b(c,i)?(n=c.getAttribute("data-method"),a=c.getAttribute("data-url"),r=R(c,c.getAttribute("data-params"))):(n=c.getAttribute("data-method"),a=e.href(c),r=c.getAttribute("data-params"));S({type:n||"GET",url:a,data:r,dataType:u,beforeSend:(e,t)=>$(c,"ajax:beforeSend",[e,t])?$(c,"ajax:send",[e]):($(c,"ajax:stopped"),!1),success:(...e)=>$(c,"ajax:success",e),error:(...e)=>$(c,"ajax:error",e),complete:(...e)=>$(c,"ajax:complete",e),crossDomain:L(a),withCredentials:null!=l&&"false"!==l}),I(t)},ne=function(){const e=this,{form:t}=e;if(t)return e.name&&A(t,"ujs:submit-button",{name:e.name,value:e.value}),A(t,"ujs:formnovalidate-button",e.formNoValidate),A(t,"ujs:submit-button-formaction",e.getAttribute("formaction")),A(t,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},se=function(e){const t=this,r=(t.getAttribute("data-method")||"GET").toUpperCase(),n=t.getAttribute("data-params"),s=(e.metaKey||e.ctrlKey)&&"GET"===r&&!n;(null!=e.button&&0!==e.button||s)&&e.stopImmediatePropagation()},ie={$:E,ajax:S,buttonClickSelector:s,buttonDisableSelector:d,confirm:e=>window.confirm(e),cspNonce:f,csrfToken:O,csrfParam:k,CSRFProtection:M,delegate:P,disableElement:q,enableElement:H,fileInputSelector:u,fire:$,formElements:K,formEnableSelector:l,formDisableSelector:c,formInputClickSelector:a,formSubmitButtonClick:ne,formSubmitSelector:o,getData:y,handleDisabledElement:z,href:j,inputChangeSelector:i,isCrossDomain:L,linkClickSelector:n,linkDisableSelector:h,loadCSPNonce:p,matches:b,preventInsignificantClick:se,refreshCSRFTokens:x,serializeElement:R,setData:A,stopEverything:I},oe=U(ie);ie.handleConfirm=oe;const ae=ee(ie);ie.handleMethod=ae;const ce=re(ie);ie.handleRemote=ce;const le=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",(function(){E(l).forEach((function(e){y(e,"ujs:disabled")&&H(e)})),E(h).forEach((function(e){y(e,"ujs:disabled")&&H(e)}))})),P(document,h,"ajax:complete",H),P(document,h,"ajax:stopped",H),P(document,d,"ajax:complete",H),P(document,d,"ajax:stopped",H),P(document,n,"click",se),P(document,n,"click",z),P(document,n,"click",oe),P(document,n,"click",q),P(document,n,"click",ce),P(document,n,"click",ae),P(document,s,"click",se),P(document,s,"click",z),P(document,s,"click",oe),P(document,s,"click",q),P(document,s,"click",ce),P(document,i,"change",z),P(document,i,"change",oe),P(document,i,"change",ce),P(document,o,"submit",z),P(document,o,"submit",oe),P(document,o,"submit",ce),P(document,o,"submit",(e=>setTimeout((()=>q(e)),13))),P(document,o,"ajax:send",q),P(document,o,"ajax:complete",H),P(document,a,"click",se),P(document,a,"click",z),P(document,a,"click",oe),P(document,a,"click",ne),document.addEventListener("DOMContentLoaded",x),document.addEventListener("DOMContentLoaded",p),window._rails_loaded=!0};if(ie.start=le,"undefined"!=typeof jQuery&&jQuery&&jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=ie,jQuery.ajaxPrefilter((function(e,t,r){if(!e.crossDomain)return M(r)}))}var ue=r(31955),he=r(35694),de=r(8810),me=r(82816);const pe=()=>({mount:me,destroy:me,on:me,update:me}),fe=()=>{const e={};return{create:t=>(e[t]=pe(),e[t]),getElement:t=>e[t]||null}};if("test"===de.rails_env){const e=()=>document.getElementById("stripe-cardnumber").value.substr(-4,4),t=()=>({elements:()=>fe(),createToken:()=>Promise.resolve({token:{id:"tok_123",card:{last4:e()}}}),createSource:me,createPaymentMethod:me,confirmCardPayment:()=>Promise.resolve({}),confirmCardSetup:me,paymentRequest:me,_registerWrapper:me});window.Stripe=t}var ge=r(3685),be=r(29188),ve=class extends be.Qr{click(e){if(e.button>1)return!1;const t=document.createElement("a");return t.href=this.link,1===e.button?t.target="_blank":t.target=this.linkTarget,t.rel="noopener",t.click(),!1}get link(){return this.element.dataset.link}get linkTarget(){return this.element.dataset.target}},ye=r(80438),Ae=r(34388);const Ee={googleDocsUrl:"https://docs.google.com",corsProxyUrl:"https://corsanywhere.hexlet.app"},we=e=>{const t=new URL(`/forms/d/e/${e}/formResponse`,Ee.googleDocsUrl);return t.searchParams.set("embedded","true"),t};var Oe=Ee,ke=(e,t,r)=>new Promise(((n,s)=>{var i=e=>{try{a(r.next(e))}catch(e){s(e)}},o=e=>{try{a(r.throw(e))}catch(e){s(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);a((r=r.apply(e,t)).next())}));var Me=(e,t,r)=>ke(void 0,null,(function*(){const{t:n}=Ae.default,s=we(t),i=[Oe.corsProxyUrl,s.toString()].join("/");return new ye({formId:t,endpointUrl:i,locale:r,translations:{[r]:{header:n("typoreporter.header"),messageLabel:n("typoreporter.messageLabel"),commentLabel:n("typoreporter.commentLabel"),send:n("typoreporter.send"),sending:n("typoreporter.sending"),cancel:n("typoreporter.cancel"),error:n("typoreporter.error")}}},e)})),xe=r(71463);ie.start();const Ce=he.determine();ue.Z.set("browser_time_zone",Ce.name(),{expires:1,path:"/"});const Se=()=>{const e=document.location;if(e.hash){[...document.querySelectorAll(`[data-bs-toggle="tab"][href="${e.hash}"]`)].forEach((e=>console.log(ge.Tab.getOrCreateInstance(e).show())));[...document.querySelectorAll(`[data-bs-toggle="tab"][data-bs-target="${e.hash}"]`)].forEach((e=>ge.Tab.getOrCreateInstance(e).show()))}[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].forEach((e=>new ge.Tooltip(e,{boundary:"window"})));[...document.querySelectorAll('[data-bs-toggle="popover"]')].forEach((e=>new ge.Popover(e,{html:!0})))},Te=()=>{const e=document.createElement("div");document.body.appendChild(e),Me(e,de.typoreporter_google_form_id,de.language)};window.Turbo?document.addEventListener("turbo:load",(()=>{Se(),Te()})):(Se(),Te()),xe.Z.register("hidden-link",ve)},34388:function(e,t,r){"use strict";var n=r(8810),s=r(92791),i=r(52311),o=r(29438),a=r(24142),c=r(50824);s.ZP.use(i.Db).init({lng:n.language,debug:"production"!==n.rails_env,resources:{ru:o.Z,en:a.Z,es:c.Z},fallbackLng:{es:["en"]}}),t.default=s.ZP},71463:function(e,t,r){"use strict";var n=r(29188);t.Z=n.Mx.start()},31955:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function s(e,t){function r(r,s,i){if("undefined"!=typeof document){"number"==typeof(i=n({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=r+"="+e.write(s,r)+o}}function i(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var r=document.cookie?document.cookie.split("; "):[],n={},s=0;s<r.length;s++){var i=r[s].split("="),o=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(n[a]=e.read(o,a),t===a)break}catch(e){}}return t?n[t]:n}}return Object.create({set:r,get:i,remove:function(e,t){r(e,"",n({},t,{expires:-1}))},withAttributes:function(e){return s(this.converter,n({},this.attributes,e))},withConverter:function(e){return s(n({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}r.d(t,{Z:function(){return i}});var i=s({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[6116,2580,1216,5832],(function(){return t(44684)}));e.O()}]);